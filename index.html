<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高校班级管理系统</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#3b82f6',
                        accent: '#60a5fa',
                        light: '#f3f4f6',
                        dark: '#1f2937'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .transition-sidebar {
                transition: width 0.3s ease-in-out;
            }
            .sidebar-expanded {
                width: 250px;
            }
            .sidebar-collapsed {
                width: 70px;
            }
            .main-expanded {
                margin-left: 250px;
            }
            .main-collapsed {
                margin-left: 70px;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- 登录页面 -->
    <div id="login-page" class="min-h-screen flex items-center justify-center bg-gray-100 p-4">
        <div class="bg-white rounded-lg shadow-xl overflow-hidden w-full max-w-md">
            <div class="p-6 sm:p-8">
                <div class="text-center mb-8">
                    <img src="https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/64bfd761e7284e2ca4149d44fd8884b1~tplv-a9rns2rl98-image.image?rcl=2025103114221315A5A8FEF816AE360D6D&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1764483800&x-signature=0kXWQWr8BDYT5ou7yQZm938g%2Fyw%3D" alt="班级管理系统" class="h-20 mx-auto mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">班级管理系统</h2>
                    <p class="text-gray-600 mt-1">请登录您的账户</p>
                </div>
                <form id="login-form" class="space-y-6">
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700 mb-1">用户名</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                <i class="fa fa-user"></i>
                            </span>
                            <input type="text" id="username" name="username" class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入用户名" required>
                        </div>
                    </div>
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">密码</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500">
                                <i class="fa fa-lock"></i>
                            </span>
                            <input type="password" id="password" name="password" class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入密码" required>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                            <label for="remember-me" class="ml-2 block text-sm text-gray-700">记住我</label>
                        </div>
                        <div class="text-sm">
                            <a href="#" class="font-medium text-blue-600 hover:text-blue-500">忘记密码?</a>
                        </div>
                    </div>
                    <div>
                        <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            登录
                        </button>
                    </div>
                </form>
                <div class="mt-6">
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">或使用</span>
                        </div>
                    </div>
                    <div class="mt-6 grid grid-cols-2 gap-3">
                        <button type="button" class="inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            <i class="fa fa-user-circle mr-2"></i>
                            学生登录
                        </button>
                        <button type="button" class="inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            <i class="fa fa-user-secret mr-2"></i>
                            管理员登录
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 主应用界面 -->
    <div id="app" class="hidden min-h-screen flex flex-col">
        <!-- 侧边栏 -->
        <aside id="sidebar" class="fixed top-0 left-0 h-full bg-primary text-white transition-sidebar sidebar-expanded">
            <div class="flex flex-col h-full">
                <!-- Logo -->
                <div class="flex items-center justify-between p-4 border-b border-blue-700">
                    <div class="flex items-center space-x-3">
                        <img src="https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/64bfd761e7284e2ca4149d44fd8884b1~tplv-a9rns2rl98-image.image?rcl=2025103114221315A5A8FEF816AE360D6D&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1764483800&x-signature=0kXWQWr8BDYT5ou7yQZm938g%2Fyw%3D" alt="Logo" class="h-8 w-8">
                        <span id="sidebar-title" class="text-lg font-semibold sidebar-text">班级管理系统</span>
                    </div>
                    <button id="toggle-sidebar" class="text-white hover:text-blue-200 focus:outline-none">
                        <i class="fa fa-bars"></i>
                    </button>
                </div>
                
                <!-- 导航菜单 -->
                <nav class="flex-1 overflow-y-auto py-4">
                    <ul class="space-y-2 px-3">
                        <li>
                            <a href="#dashboard" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="dashboard">
                                <i class="fa fa-dashboard w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">仪表盘</span>
                            </a>
                        </li>
                        <li>
                            <a href="#members" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="members">
                                <i class="fa fa-users w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">班级人员管理</span>
                            </a>
                        </li>
                        <li>
                            <a href="#committee" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="committee">
                                <i class="fa fa-user-circle w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">班委会管理</span>
                            </a>
                        </li>
                        <li>
                            <a href="#schedule" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="schedule">
                                <i class="fa fa-calendar w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">值日安排管理</span>
                            </a>
                        </li>
                        <li>
                            <a href="#activities" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="activities">
                                <i class="fa fa-calendar-check-o w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">班级活动记录</span>
                            </a>
                        </li>
                        <li>
                            <a href="#messages" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="messages">
                                <i class="fa fa-comments w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">班级留言簿</span>
                            </a>
                        </li>
                        <li>
                            <a href="#reflection" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="reflection">
                                <i class="fa fa-code-fork w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">反射机制演示</span>
                            </a>
                        </li>
                        <li>
                            <a href="#map" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="map">
                                <i class="fa fa-map w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">映射应用演示</span>
                            </a>
                        </li>
                        <li>
                            <a href="#socket" class="nav-link flex items-center p-3 text-white rounded-lg hover:bg-blue-700 group transition-all" data-page="socket">
                                <i class="fa fa-plug w-6 text-center"></i>
                                <span class="ml-3 sidebar-text">Socket通信</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                
                <!-- 用户信息 -->
                <div class="p-4 border-t border-blue-700">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 rounded-full bg-blue-200 flex items-center justify-center text-blue-800 font-semibold">
                            <span id="user-initial">管</span>
                        </div>
                        <div class="sidebar-text">
                            <p class="text-sm font-medium" id="user-name">管理员</p>
                            <p class="text-xs text-blue-200" id="user-role">管理员</p>
                        </div>
                    </div>
                    <div class="mt-4 sidebar-text">
                        <button id="logout-btn" class="w-full flex items-center justify-center p-2 text-sm text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors">
                            <i class="fa fa-sign-out mr-2"></i> 退出登录
                        </button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main id="main-content" class="flex-1 transition-all main-expanded">
            <!-- 顶部导航栏 -->
            <header class="bg-white shadow-sm sticky top-0 z-10">
                <div class="max-w-full-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between h-16">
                        <div class="flex items-center">
                            <button id="mobile-sidebar-toggle" class="md:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none">
                                <i class="fa fa-bars"></i>
                            </button>
                            <h1 class="ml-4 text-xl font-semibold text-gray-800" id="page-title">仪表盘</h1>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="relative">
                                <button class="p-2 rounded-full text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none">
                                    <i class="fa fa-bell"></i>
                                    <span class="absolute top-0 right-0 block h-2 w-2 rounded-full-full bg-red-500 transform translate-x-1/2 -translate-y-1/2"></span>
                                </button>
                            </div>
                            <div class="relative">
                                <button class="p-2 rounded-full text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none">
                                    <i class="fa fa-envelope"></i>
                                    <span class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-blue-500 transform translate-x-1/2 -translate-y-1/2"></span>
                                </button>
                            </div>
                            <div>
                                <button class="flex items-center space-x-2 focus:outline-none">
                                    <span class="text-sm font-medium text-gray-700">设置</span>
                                    <i class="fa fa-cog text-gray-500"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- 页面内容 -->
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <!-- 仪表盘页面 -->
                <div id="dashboard-page" class="page-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                                    <i class="fa fa-users fa-2x"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">班级人数</p>
                                    <p class="text-2xl font-semibold text-gray-800">45</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center">
                                    <span class="text-green-500 text-sm font-medium">
                                        <i class="fa fa-arrow-up"></i> 2.5%
                                    </span>
                                    <span class="ml-2 text-sm text-gray-500">较上月</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded rounded rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="p-3 rounded-full bg-green-100 text-green-600">
                                    <i class="fa fa-calendar-check-o fa-2x"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">本月活动</p>
                                    <p class="text-2xl font-semibold text-gray-800">8</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center">
                                    <span class="text-green-500 text-sm font-medium">
                                        <i class="fa fa-arrow-up"></i> 12.3%
                                    </span>
                                    <span class="ml-2 text-sm text-gray-500">较上月</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="p-3 rounded-full bg-yellow-100 text-yellow-600">
                                    <i class="fa fa-calendar fa-2x"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">值日安排</p>
                                    <p class="text-2xl font-semibold text-gray-800">30</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center">
                                    <span class="text-red-500 text-sm font-medium">
                                        <i class="fa fa-arrow-down"></i> 1.2%
                                    </span>
                                    <span class="ml-2 text-sm text-gray-500">较上月</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="p-3 rounded-full bg-purple-100 text-purple-600">
                                    <i class="fa fa-comments fa-2x"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">留言数量</p>
                                    <p class="text-2xl font-semibold text-gray-800">24</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center">
                                    <span class="text-green-500 text-sm font-medium">
                                        <i class="fa fa-arrow-up"></i> 8.7%
                                    </span>
                                    <span class="ml-2 text-sm text-gray-500">较上月</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow p-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-4">班级活动统计</h3>
                            <div class="h-80">
                                <canvas id="activities-chart"></canvas>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow p-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-4">值日安排情况</h3>
                            <div class="h-80">
                                <canvas id="schedule-chart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 gap-6">
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex justify justify-between items-center mb-4">
                                <h3 class="text-lg font-medium text-gray-800">近期活动</h3>
                                <a href="#activities" class="text-sm text-blue-600 hover:text-blue-500">查看全部</a>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">活动名称</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">日期</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">地点</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">状态</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">班级篮球赛</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-15</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">学校篮球场</td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">已完成</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">期末考试复习会</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-20</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">教学楼302教室</td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">进行中</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">班级聚餐</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-25</td>
                                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">学校附近餐厅</td>
                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">计划中</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 班级人员管理页面 -->
                <div id="members-page" class="page-content hidden">
                    <div class="bg-white rounded-lg shadow mb-6">
                        <div class="p-6">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                                <h2 class="text-xl font-semibold text-gray-800 mb-4 md:mb-0">班级人员管理</h2>
                                <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3">
                                    <div class="relative">
                                        <input type="text" placeholder="搜索成员..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                            <i class="fa fa-search text-gray-400"></i>
                                        </div>
                                    </div>
                                    <button id="add-member-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                        <i class="fa fa-plus mr-2"></i> 添加成员
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">学号</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">姓名</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">性别</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">专业</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">联系方式</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">是否班干部</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="members-table-body">
                                    <!-- 成员数据将通过JavaScript动态生成 -->
                                </tbody>
                            </table>
                        </div>
                        <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
                            <div class="flex-1 flex justify-between sm:hidden">
                                <a href="#" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                    上一页
                                </a>
                                <a href="#" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                    下一页
                                </a>
                            </div>
                            <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                                <div>
                                    <p class="text-sm text-gray-700">
                                        显示第 <span class="font-medium">1</span> 到 <span class="font-medium">10</span> 条，共 <span class="font-medium">45</span> 条结果
                                    </p>
                                </div>
                                <div>
                                    <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                                        <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                            <span class="sr-only">上一页</span>
                                            <i class="fa fa-chevron-left"></i>
                                        </a>
                                        <a href="#" aria-current="page" class="z-10 bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                            1
                                        </a>
                                        <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                            2
                                        </a>
                                        <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                            3
                                        </a>
                                        <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">
                                            ...
                                        </span>
                                        <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                            5
                                        </a>
                                        <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                            <span class="sr-only">下一页</span>
                                            <i class="fa fa-chevron-right"></i>
                                        </a>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 班委会管理页面 -->
                <div id="committee-page" class="page-content hidden">
                    <div class="bg-white rounded-lg shadow mb-6">
                        <div class="p-6">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                                <h2 class="text-xl font-semibold text-gray-800 mb-4 md:mb-0">班委会管理</h2>
                                <div class="flex space-x-3">
                                    <button id="add-committee-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                        <i class="fa fa-plus mr-2"></i> 添加班干部
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">学号</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">姓名</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">职务</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">联系方式</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">职责描述</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="committee-table-body">
                                    <!-- 班委会数据将通过JavaScript动态生成 -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-lg shadow p-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-4">班委会职责分配</h3>
                            <div class="h-80">
                                <canvas id="committee-roles-chart"></canvas>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow p-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-4">班委会工作统计</h3>
                            <div class="h-80">
                                <canvas id="committee-work-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 值日安排管理页面 -->
                <div id="schedule-page" class="page-content hidden">
                    <div class="bg-white rounded-lg shadow mb-6">
                        <div class="p-6">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                                <h2 class="text-xl font-semibold text-gray-800 mb-4 md:mb-0">值日安排管理</h2>
                                <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3">
                                    <div class="relative">
                                        <input type="date" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    </div>
                                    <button id="add-schedule-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                        <i class="fa fa-plus mr-2"></i> 添加值日安排
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="mb-6">
                                <h3 class="text-lg font-medium text-gray-800 mb-4">本月值日表</h3>
                                <div class="grid grid-cols-7 gap-2">
                                    <div class="text-center font-medium text-gray-500">周一</div>
                                    <div class="text-center font-medium text-gray-500">周二</div>
                                    <div class="text-center font-medium text-gray-500">周三</div>
                                    <div class="text-center font-medium text-gray-500">周四</div>
                                    <div class="text-center font-medium text-gray-500">周五</div>
                                    <div class="text-center font-medium text-gray-500">周六</div>
                                    <div class="text-center font-medium text-gray-500">周日</div>
                                    
                                    <!-- 第一周 -->
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月1日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>张三</p>
                                            <p>李四</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月2日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>王五</p>
                                            <p>赵六</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月3日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>钱七</p>
                                            <p>孙八</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月4日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>周九</p>
                                            <p>吴十</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月5日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>郑十一</p>
                                            <p>王十二</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-50 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-400">6月6日</div>
                                        <div class="mt-1 text-xs text-gray-400">
                                            <p>休息日</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-50 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-400">6月7日</div>
                                        <div class="mt-1 text-xs text-gray-400">
                                            <p>休息日</p>
                                        </div>
                                    </div>
                                    
                                    <!-- 第二周 -->
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月8日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>李十三</p>
                                            <p>张十四</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月9日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>刘十五</p>
                                            <p>陈十六</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月10日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>杨十七</p>
                                            <p>黄十八</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月11日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>周十九</p>
                                            <p>吴二十</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-100 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-800">6月12日</div>
                                        <div class="mt-1 text-xs text-gray-600">
                                            <p>郑二十一</p>
                                            <p>王二十二</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-50 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-400">6月13日</div>
                                        <div class="mt-1 text-xs text-gray-400">
                                            <p>休息日</p>
                                        </div>
                                    </div>
                                    <div class="schedule-cell bg-gray-50 rounded-lg p-2 h-32 overflow-hidden">
                                        <div class="text-sm font-medium text-gray-400">6月14日</div>
                                        <div class="mt-1 text-xs text-gray-400">
                                            <p>休息日</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h3 class="text-lg font-medium text-gray-800 mb-4">值日任务详情</h3>
                                <div class="overflow-x-auto">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">日期</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">值日人员</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">任务内容</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">状态</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                                            </tr>
                                        </thead>
                                        <tbody class="bg-white divide-y divide-gray-200">
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2023-06-01</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">张三, 李四</td>
                                                <td class="px-6 py-4 text-sm text-gray-500">
                                                    <ul class="list-disc list-inside">
                                                        <li>打扫教室卫生</li>
                                                        <li>整理图书角</li>
                                                        <li>倒垃圾</li>
                                                    </ul>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">已完成</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">查看</a>
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                                    <a href="#" class="text-red-600 hover:text-red-900">删除</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2023-06-02</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">王五, 赵六</td>
                                                <td class="px-6 py-4 text-sm text-gray-500">
                                                    <ul class="list-disc list-inside">
                                                        <li>打扫教室卫生</li>
                                                        <li>整理图书角</li>
                                                        <li>倒垃圾</li>
                                                    </ul>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">已完成</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">查看</a>
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                                    <a href="#" class="text-red-600 hover:text-red-900">删除</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">2023-06-03</td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">钱七, 孙八</td>
                                                <td class="px-6 py-4 text-sm text-gray-500">
                                                    <ul class="list-disc list-inside">
                                                        <li>打扫教室卫生</li>
                                                        <li>整理图书角</li>
                                                        <li>倒垃圾</li>
                                                    </ul>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap">
                                                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">进行中</span>
                                                </td>
                                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">查看</a>
                                                    <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                                    <a href="#" class="text-red-600 hover:text-red-900">删除</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 班级活动记录页面 -->
                <div id="activities-page" class="page-content hidden">
                    <div class="bg-white rounded-lg shadow mb-6">
                        <div class="p-6">
                            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                                <h2 class="text-xl font-semibold text-gray-800 mb-4 md:mb-0">班级活动记录</h2>
                                <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3">
                                    <div class="relative">
                                        <input type="text" placeholder="搜索活动..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                                            <i class="fa fa-search text-gray-400"></i>
                                        </div>
                                    </div>
                                    <button id="add-activity-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                        <i class="fa fa-plus mr-2"></i> 添加活动
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">活动名称</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">活动时间</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">活动地点</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">组织者</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">参与人数</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">状态</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">班级篮球赛</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-15 14:00-16:00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">学校篮球场</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">张三</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">24</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">已完成</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">查看</a>
                                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                            <a href="#" class="text-red-600 hover:text-red-900">删除</a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">期末考试复习会</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-20 18:00-20:00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">教学楼302教室</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">李四</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">36</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">进行中</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">查看</a>
                                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                            <a href="#" class="text-red-600 hover:text-red-900">删除</a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">班级聚餐</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-25 18:00-20:00</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">学校附近餐厅</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">王五</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">42</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">计划中</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">查看</a>
                                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                                            <a href="#" class="text-red-600 hover:text-red-900">删除</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
                            <div class="flex-1 flex justify-between sm:hidden">
                                <a href="#" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                    上一页
                                </a>
                                <a href="#" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                    下一页
                                </a>
                            </div>
                            <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                                <div>
                                    <p class="text-sm text-gray-700">
                                        显示第 <span class="font-medium">1</span> 到 <span class="font-medium">10</span> 条，共 <span class="font-medium">24</span> 条结果
                                    </p>
                                </div>
                                <div>
                                    <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                                        <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                            <span class="sr-only">上一页</span>
                                            <i class="fa fa-chevron-left"></i>
                                        </a>
                                        <a href="#" aria-current="page" class="z-10 bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                            1
                                        </a>
                                        <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                            2
                                        </a>
                                        <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                            3
                                        </a>
                                        <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                            <span class="sr-only">下一页</span>
                                            <i class="fa fa-chevron-right"></i>
                                        </a>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 gap-6">
                        <div class="bg-white rounded-lg shadow p-6">
                            <h3 class="text-lg font-medium text-gray-800 mb-4">活动时间轴</h3>
                            <div class="relative">
                                <!-- 时间轴线 -->
                                <div class="absolute left-0 md:left-1/2 h-full w-0.5 bg-gray-200 transform md:translate-x-px"></div>
                                
                                <!-- 活动1 -->
                                <div class="relative mb-8">
                                    <div class="md:flex items-center">
                                        <div class="md:w-1/2 md:pr-8 md:text-right mb-4 md:mb-0">
                                            <h4 class="text-lg font-medium text-gray-900">班级篮球赛</h4>
                                            <p class="text-sm text-gray-500 mt-1">2023-06-15 14:00-16:00</p>
                                            <p class="text-sm text-gray-600 mt-2">学校篮球场</p>
                                            <p class="text-sm text-gray-600 mt-1">组织者: 张三</p>
                                        </div>
                                        <div class="absolute left-0 md:left-1/2 w-4 h-4 bg-blue-500 rounded-full transform -translate-x-1/2 md:translate-x-px"></div>
                                        <div class="md:w-1/2 md:pl-8">
                                            <p class="text-sm text-gray-600">班级内部篮球比赛，增进同学间友谊，锻炼身体。</p>
                                            <div class="mt-3 flex flex-wrap gap-2">
                                                <span class="px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">体育活动</span>
                                                <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">已完成</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 活动2 -->
                                <div class="relative mb-8">
                                    <div class="md:flex items-center">
                                        <div class="md:w-1/2 md:pr-8 md:text-right mb-4 md:mb-0 md:order-1 md:ml-auto">
                                            <p class="text-sm text-gray-600">期末考试前的复习交流会，帮助大家更好地备考。</p>
                                            <div class="mt-3 flex flex-wrap gap-2 justify-end">
                                                <span class="px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800">学习活动</span>
                                                <span class="px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800">进行中</span>
                                            </div>
                                        </div>
                                        <div class="absolute left-0 md:left-1/2 w-4 h-4 bg-blue-500 rounded-full transform -translate-x-1/2 md:translate-x-px"></div>
                                        <div class="md:w-1/2 md:pl-8 md:order-2">
                                            <h4 class="text-lg font-medium text-gray-900">期末考试复习会</h4>
                                            <p class="text-sm text-gray-500 mt-1">2023-06-20 18:00-20:00</p>
                                            <p class="text-sm text-gray-600 mt-2">教学楼302教室</p>
                                            <p class="text-sm text-gray-600 mt-1">组织者: 李四</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 活动3 -->
                                <div class="relative">
                                    <div class="md:flex items-center">
                                        <div class="md:w-1/2 md:pr-8 md:text-right mb-4 md:mb-0">
                                            <h4 class="text-lg font-medium text-gray-900">班级聚餐</h4>
                                            <p class="text-sm text-gray-500 mt-1">2023-06-25 18:00-20:00</p>
                                            <p class="text-sm text-gray-600 mt-2">学校附近餐厅</p>
                                            <p class="text-sm text-gray-600 mt-1">组织者: 王五</p>
                                        </div>
                                        <div class="absolute left-0 md:left-1/2 w-4 h-4 bg-blue-500 rounded-full transform -translate-x-1/2 md:translate-x-px"></div>
                                        <div class="md:w-1/2 md:pl-8">
                                            <p class="text-sm text-gray-600">学期末班级聚餐，庆祝学期结束，增进同学感情。</p>
                                            <div class="mt-3 flex flex-wrap gap-2">
                                                <span class="px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800">社交活动</span>
                                                <span class="px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">计划中</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 班级留言簿页面 -->
                <div id="messages-page" class="page-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- 留言列表 -->
                        <div class="lg:col-span-2">
                            <div class="bg-white rounded-lg shadow mb-6">
                                <div class="p-6">
                                    <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                                        <h2 class="text-xl font-semibold text-gray-800 mb-4 md:mb-0">班级留言簿</h2>
                                        <button id="add-message-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                            <i class="fa fa-plus mr-2"></i> 发布留言
                                        </button>
                                    </div>
                                </div>
                                <div class="divide-y divide-gray-200" id="messages-list">
                                    <!-- 留言1 -->
                                    <div class="p-6">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0">
                                                <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-800 font-semibold">
                                                    张
                                                </div>
                                            </div>
                                            <div class="ml-4 flex-1">
                                                <div class="flex items-center justify-between">
                                                    <h3 class="text-sm font-medium text-gray-900">张三</h3>
                                                    <span class="text-xs text-gray-500">2023-06-18 14:30</span>
                                                </div>
                                                <p class="mt-1 text-sm text-gray-600">
                                                    大家好，我是张三。请问有人知道明天的复习会具体时间和地点吗？我不小心错过了通知。
                                                </p>
                                                <div class="mt-3 flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <button class="flex items-center text-sm text-gray-500 hover:text-blue-600">
                                                            <i class="fa fa-thumbs-up mr-1"></i>
                                                            <span>12</span>
                                                        </button>
                                                        <button class="flex items-center text-sm text-gray-500 hover:text-blue-600">
                                                            <i class="fa fa-comment mr-1"></i>
                                                            <span>回复</span>
                                                        </button>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <button class="text-sm text-gray-500 hover:text-blue-600">
                                                            <i class="fa fa-share-alt"></i>
                                                        </button>
                                                        <button class="text-sm text-gray-500 hover:text-red-600">
                                                            <i class="fa fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                                <!-- 回复 -->
                                                <div class="mt-4 pl-4 border-l-2 border-gray-200">
                                                    <div class="mb-3">
                                                        <div class="flex items-start">
                                                            <div class="flex-shrink-0">
                                                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-800 font-semibold">
                                                                    李
                                                                </div>
                                                            </div>
                                                            <div class="ml-3 flex-1">
                                                                <div class="flex items-center justify-between">
                                                                    <h4 class="text-xs font-medium text-gray-900">李四</h4>
                                                                    <span class="text-xs text-gray-500">2023-06-18 14:35</span>
                                                                </div>
                                                                <p class="mt-1 text-xs text-gray-600">
                                                                    明天的复习会在教学楼302教室，晚上6点开始，到8点结束。
                                                                </p>
                                                                <div class="mt-2 flex items-center space-x-4">
                                                                    <button class="flex items-center text-xs text-gray-500 hover:text-blue-600">
                                                                        <i class="fa fa-thumbs-up mr-1"></i>
                                                                        <span>5</span>
                                                                    </button>
                                                                    <button class="flex items-center text-xs text-gray-500 hover:text-blue-600">
                                                                        <i class="fa fa-comment mr-1"></i>
                                                                        <span>回复</span>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div>
                                                        <div class="flex items-start">
                                                            <div class="flex-shrink-0">
                                                                <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-800 font-semibold">
                                                                    王
                                                                </div>
                                                            </div>
                                                            <div class="ml-3 flex-1">
                                                                <div class="flex items-center justify-between">
                                                                    <h4 class="text-xs font-medium text-gray-900">王五</h4>
                                                                    <span class="text-xs text-gray-500">2023-06-18 14:40</span>
                                                                </div>
                                                                <p class="mt-1 text-xs text-gray-600">
                                                                    我也会去的，我们可以一起复习数学。
                                                                </p>
                                                                <div class="mt-2 flex items-center space-x-4">
                                                                    <button class="flex items-center text-xs text-gray-500 hover:text-blue-600">
                                                                        <i class="fa fa-thumbs-up mr-1"></i>
                                                                        <span>3</span>
                                                                    </button>
                                                                    <button class="flex items-center text-xs text-gray-500 hover:text-blue-600">
                                                                        <i class="fa fa-comment mr-1"></i>
                                                                        <span>回复</span>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <!-- 回复框 -->
                                                    <div class="mt-3">
                                                        <textarea class="w-full px-3 py-2 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="2" placeholder="回复..."></textarea>
                                                        <div class="mt-2 flex justify-end">
                                                            <button class="inline-flex items-center justify-center px-3 py-1 border border-transparent rounded-md shadow-sm text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                                                发送
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 留言2 -->
                                    <div class="p-6">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0">
                                                <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-800 font-semibold">
                                                    李
                                                </div>
                                            </div>
                                            <div class="ml-4 flex-1">
                                                <div class="flex items-center justify-between">
                                                    <h3 class="text-sm font-medium text-gray-900">李四</h3>
                                                    <span class="text-xs text-gray-500">2023-06-17 09:15</span>
                                                </div>
                                                <p class="mt-1 text-sm text-gray-600">
                                                    班级篮球赛将于本周五下午2点在学校篮球场举行，请大家踊跃参加，为自己的队伍加油！
                                                </p>
                                                <div class="mt-3 flex items-center justify-between">
                                                    <div class="flex items-center space-x-4">
                                                        <button class="flex items-center text-sm text-gray-500 hover:text-blue-600">
                                                            <i class="fa fa-thumbs-up mr-1"></i>
                                                            <span>18</span>
                                                        </button>
                                                        <button class="flex items-center text-sm text-gray-500 hover:text-blue-600">
                                                            <i class="fa fa-comment mr-1"></i>
                                                            <span>回复</span>
                                                        </button>
                                                    </div>
                                                    <div class="flex items-center space-x-2">
                                                        <button class="text-sm text-gray-500 hover:text-blue-600">
                                                            <i class="fa fa-share-alt"></i>
                                                        </button>
                                                        <button class="text-sm text-gray-500 hover:text-red-600">
                                                            <i class="fa fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                                <!-- 回复框 -->
                                                <div class="mt-3">
                                                    <textarea class="w-full px-3 py-2 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="2" placeholder="回复..."></textarea>
                                                    <div class="mt-2 flex justify-end">
                                                        <button class="inline-flex items-center justify-center px-3 py-1 border border-transparent rounded-md shadow-sm text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                                            发送
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
                                    <div class="flex-1 flex justify-between sm:hidden">
                                        <a href="#" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                            上一页
                                        </a>
                                        <a href="#" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                            下一页
                                        </a>
                                    </div>
                                    <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                                        <div>
                                            <p class="text-sm text-gray-700">
                                                显示第 <span class="font-medium">1</span> 到 <span class="font-medium">10</span> 条，共 <span class="font-medium">24</span> 条结果
                                            </p>
                                        </div>
                                        <div>
                                            <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                                                <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                                    <span class="sr-only">上一页</span>
                                                    <i class="fa fa-chevron-left"></i>
                                                </a>
                                                <a href="#" aria-current="page" class="z-10 bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                                    1
                                                </a>
                                                <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                                    2
                                                </a>
                                                <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">
                                                    3
                                                </a>
                                                <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                                    <span class="sr-only">下一页</span>
                                                    <i class="fa fa-chevron-right"></i>
                                                </a>
                                            </nav>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 侧边栏 -->
                        <div class="lg:col-span-1">
                            <!-- 热门话题 -->
                            <div class="bg-white rounded-lg shadow mb-6">
                                <div class="p-6">
                                    <h3 class="text-lg font-medium text-gray-800 mb-4">热门话题</h3>
                                    <ul class="space-y-3">
                                        <li>
                                            <a href="#" class="flex items-center text-sm text-gray-600 hover:text-blue-600">
                                                <span class="flex-shrink-0 w-6 h-6 rounded-full bg-red-100 flex items-center justify-center text-red-800 text-xs font-medium">1</span>
                                                <span class="ml-3">期末考试复习安排</span>
                                                <span class="ml-auto text-xs text-gray-500">32条讨论</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="flex items-center text-sm text-gray-600 hover:text-blue-600">
                                                <span class="flex-shrink-0 w-6 h-6 rounded-full bg-orange-100 flex items-center justify-center text-orange-800 text-xs font-medium">2</span>
                                                <span class="ml-3">班级篮球赛</span>
                                                <span class="ml-auto text-xs text-gray-500">28条讨论</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="flex items-center text-sm text-gray-600 hover:text-blue-600">
                                                <span class="flex-shrink-0 w-6 h-6 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-800 text-xs font-medium">3</span>
                                                <span class="ml-3">学期末班级聚餐</span>
                                                <span class="ml-auto text-xs text-gray-500">24条讨论</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="flex items-center text-sm text-gray-600 hover:text-blue-600">
                                                <span class="flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-gray-800 text-xs font-medium">4</span>
                                                <span class="ml-3">暑期社会实践安排</span>
                                                <span class="ml-auto text-xs text-gray-500">18条讨论</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="flex items-center text-sm text-gray-600 hover:text-blue-600">
                                                <span class="flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-gray-800 text-xs font-medium">5</span>
                                                <span class="ml-3">班级学习小组组建</span>
                                                <span class="ml-auto text-xs text-gray-500">15条讨论</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            
                            <!-- 活跃用户 -->
                            <div class="bg-white rounded-lg shadow">
                                <div class="p-6">
                                    <h3 class="text-lg font-medium text-gray-800 mb-4">活跃用户</h3>
                                    <ul class="space-y-4">
                                        <li>
                                            <a href="#" class="flex items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-800 font-semibold">
                                                        张
                                                    </div>
                                                </div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-900">张三</p>
                                                    <p class="text-xs text-gray-500">发布了 12 条留言</p>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="flex items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-800 font-semibold">
                                                        李
                                                    </div>
                                                </div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-900">李四</p>
                                                    <p class="text-xs text-gray-500">发布了 10 条留言</p>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="flex items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center text-purple-800 font-semibold">
                                                        王
                                                    </div>
                                                </div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-900">王五</p>
                                                    <p class="text-xs text-gray-500">发布了 8 条留言</p>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="flex items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-800 font-semibold">
                                                        赵
                                                    </div>
                                                </div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-900">赵六</p>
                                                    <p class="text-xs text-gray-500">发布了 7 条留言</p>
                                                </div>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#" class="flex items-center">
                                                <div class="flex-shrink-0">
                                                    <div class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-800 font-semibold">
                                                        钱
                                                    </div>
                                                </div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-900">钱七</p>
                                                    <p class="text-xs text-gray-500">发布了 6 条留言</p>
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 反射机制演示页面 -->
                <div id="reflection-page" class="page-content hidden">
                    <div class="bg-white rounded-lg shadow mb-6">
                        <div class="p-6">
                            <h2 class="text-xl font-semibold text-gray-800 mb-4">反射机制演示</h2>
                            <p class="text-gray-600 mb-6">
                                反射机制允许程序在运行时动态地调用函数、访问属性或创建对象。在JavaScript中，可以通过eval()函数或Function构造函数实现这一功能。
                                以下演示了如何使用反射机制将字符串作为函数名进行调用。
                            </p>
                            
                            <div class="bg-gray-50 p-6 rounded-lg mb-6">
                                <h3 class="text-lg font-medium text-gray-800 mb-4">反射机制示例</h3>
                                <div class="mb-4">
                                    <label for="function-name" class="block text-sm font-medium text-gray-700 mb-1">函数名称</label>
                                    <div class="flex space-x-3">
                                        <input type="text" id="function-name" class="flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="例如: add, multiply, greet" value="greet">
                                        <button id="invoke-function-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                            调用函数
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="mb-4">
                                    <label for="function-args" class="block text-sm font-medium text-gray-700 mb-1">函数参数 (用逗号分隔)</label>
                                    <input type="text" id="function-args" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="例如: 1,2 或 '张三'" value="'班级管理系统'">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">可用函数:</label>
                                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                        <li><code>add(a, b)</code> - 计算两个数的和</li>
                                        <li><code>multiply(a, b)</code> - 计算两个数的积</li>
                                        <li><code>greet(name)</code> - 向指定名称的人打招呼</li>
                                        <li><code>reverseString(str)</code> - 反转字符串</li>
                                        <li><code>getCurrentTime()</code> - 获取当前时间</li>
                                    </ul>
                                </div>
                                
                                <div class="mt-6 p-4 bg-white rounded-md border border-gray-200">
                                    <h4 class="text-sm font-medium text-gray-800 mb-2">结果:</h4>
                                    <pre id="reflection-result" class="text-sm text-gray-600 p-3 bg-gray-50 rounded-md overflow-x-auto">
> greet('班级管理系统')
欢迎使用班级管理系统!</pre>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="text-lg font-medium text-gray-800 mb-4">实现代码</h3>
                                <div class="bg-gray-900 rounded-lg p-6">
                                    <pre class="text-gray-300 overflow-x-auto">
// 定义一些示例函数
function add(a, b) {
    return a + b;
}

function multiply(a, b) {
    return a * b;
}

function greet(name) {
    return `欢迎使用${name}!`;
}

function reverseString(str) {
    return str.split('').reverse().join('');
}

function getCurrentTime() {
    return new Date().toLocaleTimeString();
}

// 函数映射表
const functionMap = {
    'add': add,
    'multiply': multiply,
    'greet': greet,
    'reverseString': reverseString,
    'getCurrentTime': getCurrentTime
};

// 使用反射机制调用函数
function invokeFunction(functionName, ...args) {
    try {
        // 检查函数是否存在
        if (functionMap[functionName]) {
            // 调用函数并返回结果
            return functionMap[functionName](...args);
        } else {
            throw new Error(`函数 "${functionName}" 不存在`);
        }
    } catch (error) {
        return `错误: ${error.message}`;
    }
}

// 使用示例
console.log(invokeFunction('greet', '班级管理系统')); // 输出: 欢迎使用班级管理系统!
console.log(invokeFunction('add', 1, 2)); // 输出: 3
console.log(invokeFunction('multiply', 3, 4)); // 输出: 12</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 映射应用演示页面 -->
                <div id="map-page" class="page-content hidden">
                    <div class="bg-white rounded-lg shadow mb-6">
                        <div class="p-6">
                            <h2 class="text-xl font-semibold text-gray-800 mb-4">映射应用演示</h2>
                            <p class="text-gray-600 mb-6">
                                映射（Map）是一种键值对数据结构，类似于对象，但具有更多的功能和灵活性。
                                在JavaScript中，Map对象可以使用任意类型作为键，并且提供了丰富的方法来操作数据。
                                以下演示了如何使用Map实现用户数据的管理功能。
                            </p>
                            
                            <div class="bg-gray-50 p-6 rounded-lg mb-6">
                                <h3 class="text-lg font-medium text-gray-800 mb-4">用户数据管理系统</h3>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                    <div>
                                        <h4 class="text-md font-medium text-gray-800 mb-3">添加用户</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <label for="user-id" class="block text-sm font-medium text-gray-700 mb-1">用户ID</label>
                                                <input type="text" id="user-id" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入用户ID">
                                            </div>
                                            <div>
                                                <label for="user-name" class="block text-sm font-medium text-gray-700 mb-1">用户名</label>
                                                <input type="text" id="user-name" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入用户名">
                                            </div>
                                            <div>
                                                <label for="user-email" class="block text-sm font-medium text-gray-700 mb-1">邮箱</label>
                                                <input type="email" id="user-email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入邮箱">
                                            </div>
                                            <div>
                                                <button id="add-user-map-btn" class="w-full inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                                    添加用户
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <h4 class="text-md font-medium text-gray-800 mb-3">查询用户</h4>
                                        <div class="space-y-3">
                                            <div>
                                                <label for="search-user-id" class="block text-sm font-medium text-gray-700 mb-1">用户ID</label>
                                                <div class="flex space-x-3">
                                                    <input type="text" id="search-user-id" class="flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入用户ID">
                                                    <button id="search-user-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                                        查询
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <div class="p-4 bg-white rounded-md border border-gray-200">
                                                <h5 class="text-sm font-medium text-gray-800 mb-2">用户信息:</h5>
                                                <div id="user-info" class="text-sm text-gray-600">
                                                    <p class="text-gray-400 italic">请输入用户ID并点击查询按钮</p>
                                                </div>
                                            </div>
                                            
                                            <div class="flex space-x-3">
                                                <button id="delete-user-btn" class="flex-1 inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                                                    删除用户
                                                </button>
                                                <button id="clear-all-btn" class="flex-1 inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
                                                    清空所有
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 class="text-md font-medium text-gray-800 mb-3">用户列表</h4>
                                    <div class="overflow-x-auto">
                                        <table class="min-w-full divide-y divide-gray-200">
                                            <thead class="bg-gray-100">
                                                <tr>
                                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">用户ID</th>
                                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">用户名</th>
                                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">邮箱</th>
                                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                                                </tr>
                                            </thead>
                                            <tbody id="user-list" class="bg-white divide-y divide-gray-200">
                                                <tr>
                                                    <td colspan="4" class="px-6 py-4 text-center text-sm text-gray-500">暂无用户数据</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h3 class="text-lg font-medium text-gray-800 mb-4">实现代码</h3>
                                <div class="bg-gray-900 rounded-lg p-6">
                                    <pre class="text-gray-300 overflow-x-auto">
// 创建用户数据Map
const userMap = new Map();

// 添加用户
function addUser(userId, userData) {
    if (userMap.has(userId)) {
        return `用户ID ${userId} 已存在`;
    }
    userMap.set(userId, userData);
    return `用户 ${userData.name} 添加成功`;
}

// 获取用户
function getUser(userId) {
    return userMap.get(userId);
}

// 删除用户
function deleteUser(userId) {
    if (userMap.has(userId)) {
        const userName = userMap.get(userId).name;
        userMap.delete(userId);
        return `用户 ${userName} 删除成功`;
    }
    return `用户ID ${userId} 不存在`;
}

// 获取所有用户
function getAllUsers() {
    return Array.from(userMap.entries()).map(([userId, userData]) => ({
        userId,
        ...userData
    }));
}

// 清空所有用户
function clearAllUsers() {
    const count = userMap.size;
    userMap.clear();
    return `已清空 ${count} 个用户`;
}

// 检查用户是否存在
function userExists(userId) {
    return userMap.has(userId);
}

// 获取用户数量
function getUserCount() {
    return userMap.size;
}

// 使用示例
addUser('1001', { name: '张三', email: 'zhangsan@example.com' });
addUser('1002', { name: '李四', email: 'lisi@example.com' });

console.log(getUser('1001')); // 输出: { name: '张三', email: 'zhangsan@example.com' }
console.log(getAllUsers()); // 输出: [{ userId: '1001', name: '张三', email: 'zhangsan@example.com' }, ...]
console.log(deleteUser('1001')); // 输出: 用户 张三 删除成功
console.log(getUserCount()); // 输出: 1</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Socket通信页面 -->
                <div id="socket-page" class="page-content hidden">
                    <div class="bg-white rounded-lg shadow mb-6">
                        <div class="p-6">
                            <h2 class="text-xl font-semibold text-gray-800 mb-4">Socket通信演示</h2>
                            <p class="text-gray-600 mb-6">
                                Socket通信允许在不同设备之间进行实时数据交换。在Web应用中，可以使用WebSocket API实现浏览器与服务器之间的全双工通信。
                                以下演示了如何使用WebSocket实现两个用户之间的在线聊天功能。
                            </p>
                            
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                <div class="lg:col-span-2">
                                    <div class="bg-gray-50 p-6 rounded-lg h-full">
                                        <div class="flex flex-col h-full">
                                            <h3 class="text-lg font-medium text-gray-800 mb-4">实时聊天</h3>
                                            
                                            <div class="mb-4">
                                                <div class="flex space-x-3">
                                                    <div class="flex-1">
                                                        <label for="socket-ip" class="block text-sm font-medium text-gray-700 mb-1">IP地址</label>
                                                        <input type="text" id="socket-ip" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="例如: 127.0.0.1" value="127.0.0.1">
                                                    </div>
                                                    <div class="flex-1">
                                                        <label for="socket-port" class="block text-sm font-medium text-gray-700 mb-1">端口号</label>
                                                        <input type="number" id="socket-port" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="例如: 8080" value="8080">
                                                    </div>
                                                    <div class="flex items-end">
                                                        <button id="connect-socket-btn" class="w-full inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                                            连接
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="mb-4">
                                                <label for="username" class="block text-sm font-medium text-gray-700 mb-1">用户名</label>
                                                <input type="text" id="chat-username" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入您的用户名" value="用户1">
                                            </div>
                                            
                                            <div class="flex-1 mb-4 bg-white rounded-lg border border-gray-200 overflow-hidden flex flex-col">
                                                <div class="p-4 border-b border-gray-200 bg-gray-50 flex items-center justify-between">
                                                    <h4 class="text-sm font-medium text-gray-800">聊天窗口</h4>
                                                    <div class="flex items-center">
                                                        <span id="connection-status" class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 mr-2">
                                                            <span class="w-2 h-2 mr-1 rounded-full bg-red-500"></span>
                                                            未连接
                                                        </span>
                                                        <button id="disconnect-socket-btn" class="text-xs text-gray-500 hover:text-gray-700">
                                                            <i class="fa fa-sign-out"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div id="chat-messages" class="flex-1 p-4 overflow-y-auto space-y-4">
                                                    <div class="flex items-start">
                                                        <div class="flex-shrink-0">
                                                            <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 text-xs font-medium">
                                                                系
                                                            </div>
                                                        </div>
                                                        <div class="ml-2 max-w-[80%]">
                                                            <div class="flex items-center">
                                                                <span class="text-xs font-medium text-gray-800">系统</span>
                                                                <span class="ml-2 text-xs text-gray-500">12:00</span>
                                                            </div>
                                                            <div class="mt-1 p-2 bg-gray-100 rounded-lg text-xs text-gray-700">
                                                                欢迎使用Socket聊天演示，请先连接到服务器。
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="p-4 border-t border-gray-200">
                                                    <div class="flex space-x-3">
                                                        <input type="text" id="message-input" class="flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入消息...">
                                                        <button id="send-message-btn" class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                                                            <i class="fa fa-paper-plane"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="lg:col-span-1">
                                    <div class="bg-gray-50 p-6 rounded-lg">
                                        <h3 class="text-lg font-medium text-gray-800 mb-4">在线用户</h3>
                                        <ul id="online-users" class="space-y-3">
                                            <li class="flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200">
                                                <div class="flex items-center">
                                                    <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 text-xs font-medium">
                                                        系
                                                    </div>
                                                    <span class="ml-2 text-sm text-gray-800">系统</span>
                                                </div>
                                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                    <span class="w-2 h-2 mr-1 rounded-full bg-green-500"></span>
                                                    在线
                                                </span>
                                            </li>
                                        </ul>
                                        
                                        <div class="mt-6">
                                            <h3 class="text-lg font-medium text-gray-800 mb-4">Socket通信状态</h3>
                                            <div class="space-y-3">
                                                <div class="flex items-center justify-between">
                                                    <span class="text-sm text-gray-600">连接状态:</span>
                                                    <span id="status-text" class="text-sm font-medium text-red-600">未连接</span>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <span class="text-sm text-gray-600">服务器地址:</span>
                                                    <span id="server-address" class="text-sm font-medium text-gray-800">-</span>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <span class="text-sm text-gray-600">连接时间:</span>
                                                    <span id="connection-time" class="text-sm font-medium text-gray-800">-</span>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <span class="text-sm text-gray-600">发送消息数:</span>
                                                    <span id="sent-messages" class="text-sm font-medium text-gray-800">0</span>
                                                </div>
                                                <div class="flex items-center justify-between">
                                                    <span class="text-sm text-gray-600">接收消息数:</span>
                                                    <span id="received-messages" class="text-sm font-medium text-gray-800">0</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6">
                                <h3 class="text-lg font-medium text-gray-800 mb-4">实现代码</h3>
                                <div class="bg-gray-900 rounded-lg p-6">
                                    <pre class="text-gray-300 overflow-x-auto">
// 客户端WebSocket实现
class ChatClient {
    constructor(ip, port, username) {
        this.ip = ip;
        this.port = port;
        this.username = username;
        this.socket = null;
        this.isConnected = false;
        this.connectionTime = null;
        this.sentMessagesCount = 0;
        this.receivedMessagesCount = 0;
        
        // 事件回调
        this.onConnect = null;
        this.onDisconnect = null;
        this.onMessage = null;
        this.onError = null;
    }
    
    // 连接到服务器
    connect() {
        try {
            this.socket = new WebSocket(`ws://${this.ip}:${this.port}`);
            
            this.socket.onopen = () => {
                this.isConnected = true;
                this.connectionTime = new Date();
                
                // 发送用户信息
                this.send({
                    type: 'join',
                    username: this.username,
                    timestamp: new Date().toISOString()
                });
                
                if (this.onConnect) {
                    this.onConnect();
                }
            };
            
            this.socket.onmessage = (event) => {
                this.receivedMessagesCount++;
                const message = JSON.parse(event.data);
                
                if (this.onMessage) {
                    this.onMessage(message);
                }
            };
            
            this.socket.onclose = (event) => {
                this.isConnected = false;
                
                if (this.onDisconnect) {
                    this.onDisconnect(event);
                }
            };
            
            this.socket.onerror = (error) => {
                if (this.onError) {
                    this.onError(error);
                }
            };
        } catch (error) {
            if (this.onError) {
                this.onError(error);
            }
        }
    }
    
    // 断开连接
    disconnect() {
        if (this.socket) {
            this.socket.close();
        }
    }
    
    // 发送消息
    sendMessage(content) {
        if (!this.isConnected) {
            throw new Error('未连接到服务器');
        }
        
        const message = {
            type: 'message',
            username: this.username,
            content: content,
            timestamp: new Date().toISOString()
        };
        
        this.socket.send(JSON.stringify(message));
        this.sentMessagesCount++;
        
        return message;
    }
    
    // 获取连接状态
    getStatus() {
        return {
            isConnected: this.isConnected,
            serverAddress: this.isConnected ? `ws://${this.ip}:${this.port}` : null,
            connectionTime: this.connectionTime,
            sentMessagesCount: this.sentMessagesCount,
            receivedMessagesCount: this.receivedMessagesCount
        };
    }
}

// 使用示例
const chatClient = new ChatClient('127.0.0.1', 8080, '用户1');

// 设置事件回调
chatClient.onConnect = () => {
    console.log('连接成功');
};

chatClient.onDisconnect = (event) => {
    console.log('连接断开', event);
};

chatClient.onMessage = (message) => {
    console.log('收到消息:', message);
};

chatClient.onError = (error) => {
    console.error('错误:', error);
};

// 连接到服务器
chatClient.connect();

// 发送消息
// chatClient.sendMessage('Hello, World!');</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 添加成员模态框 -->
    <div id="add-member-modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-medium text-gray-900">添加班级成员</h3>
                    <button class="close-modal text-gray-400 hover:text-gray-500 focus:outline-none">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
                <form id="add-member-form" class="space-y-4">
                    <div>
                        <label for="member-id" class="block text-sm font-medium text-gray-700 mb-1">学号</label>
                        <input type="text" id="member-id" name="memberId" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入学号" required>
                    </div>
                    <div>
                        <label for="member-name" class="block text-sm font-medium text-gray-700 mb-1">姓名</label>
                        <input type="text" id="member-name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入姓名" required>
                    </div>
                    <div>
                        <label for="member-gender" class="block text-sm font-medium text-gray-700 mb-1">性别</label>
                        <select id="member-gender" name="gender" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            <option value="">请选择</option>
                            <option value="male">男</option>
                            <option value="female">女</option>
                        </select>
                    </div>
                    <div>
                        <label for="member-major" class="block text-sm font-medium text-gray-700 mb-1">专业</label>
                        <input type="text" id="member-major" name="major" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入专业" required>
                    </div>
                    <div>
                        <label for="member-phone" class="block text-sm font-medium text-gray-700 mb-1">联系方式</label>
                        <input type="text" id="member-phone" name="phone" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入手机号" required>
                    </div>
                    <div>
                        <label for="member-email" class="block text-sm font-medium text-gray-700 mb-1">邮箱</label>
                        <input type="email" id="member-email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="请输入邮箱">
                    </div>
                    <div>
                        <label for="member-is-committee" class="flex items-center">
                            <input type="checkbox" id="member-is-committee" name="isCommittee" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                            <span class="ml-2 block text-sm text-gray-700">是否为班干部</span>
                        </label>
                    </div>
                    <div id="committee-role-container" class="hidden">
                        <label for="member-committee-role" class="block text-sm font-medium text-gray-700 mb-1">班干部角色</label>
                        <select id="member-committee-role" name="committeeRole" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="">请选择</option>
                            <option value="monitor">班长</option>
                            <option value="vice-monitor">副班长</option>
                            <option value="study">学习委员</option>
                            <option value="life">生活委员</option>
                            <option value="sports">体育委员</option>
                            <option value="arts">文艺委员</option>
                        </select>
                    </div>
                    <div class="pt-4 flex justify-end space-x-3">
                        <button type="button" class="close-modal inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            取消
                        </button>
                        <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            添加
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 模拟数据
        const mockMembers = [
            { memberId: '2023001', name: '张三', gender: '男', major: '计算机科学与技术', phone: '13800138001', email: 'zhangsan@example.com', isCommittee: true, committeeRole: 'monitor' },
            { memberId: '2023002', name: '李四', gender: '女', major: '计算机科学与技术', phone: '13800138002', email: 'lisi@example.com', isCommittee: true, committeeRole: 'study' },
            { memberId: '2023003', name: '王五', gender: '男', major: '计算机科学与技术', phone: '13800138003', email: 'wangwu@example.com', isCommittee: false },
            { memberId: '2023004', name: '赵六', gender: '女', major: '计算机科学与技术', phone: '13800138004', email: 'zhaoliu@example.com', isCommittee: false },
            { memberId: '2023005', name: '钱七', gender: '男', major: '计算机科学与技术', phone: '13800138005', email: 'qianqi@example.com', isCommittee: true, committeeRole: 'sports' },
        ];

        const mockCommittee = [
            { memberId: '2023001', name: '张三', role: '班长', phone: '13800138001', email: 'zhangsan@example.com', duties: '负责班级全面工作，协调各委员工作' },
            { memberId: '2023002', name: '李四', role: '学习委员', phone: '13800138002', email: 'lisi@example.com', duties: '负责班级学习事务，组织学习活动' },
            { memberId: '2023005', name: '钱七', role: '体育委员', phone: '13800138005', email: 'qianqi@example.com', duties: '负责班级体育活动，组织体育比赛' },
            { memberId: '2023006', name: '孙八', role: '生活委员', phone: '13800138006', email: 'sunba@example.com', duties: '负责班级生活事务，管理班级财务' },
            { memberId: '2023007', name: '周九', role: '文艺委员', phone: '13800138007', email: 'zhoujiu@example.com', duties: '负责班级文艺活动，组织文艺节目' },
        ];

        // DOM元素
        const loginPage = document.getElementById('login-page');
        const app = document.getElementById('app');
        const loginForm = document.getElementById('login-form');
        const logoutBtn = document.getElementById('logout-btn');
        const sidebar = document.getElementById('sidebar');
        const toggleSidebarBtn = document.getElementById('toggle-sidebar');
        const mainContent = document.getElementById('main-content');
        const pageTitle = document.getElementById('page-title');
        const navLinks = document.querySelectorAll('.nav-link');
        const pageContents = document.querySelectorAll('.page-content');
        const addMemberBtn = document.getElementById('add-member-btn');
        const addMemberModal = document.getElementById('add-member-modal');
        const closeModalBtns = document.querySelectorAll('.close-modal');
        const addMemberForm = document.getElementById('add-member-form');
        const memberIsCommittee = document.getElementById('member-is-committee');
        const committeeRoleContainer = document.getElementById('committee-role-container');
        const membersTableBody = document.getElementById('members-table-body');
        const committeeTableBody = document.getElementById('committee-table-body');

        // 初始化页面
        document.addEventListener('DOMContentLoaded', () => {
            // 初始化图表
            initCharts();
            
            // 初始化成员表格
            renderMembersTable();
            
            // 初始化班委会表格
            renderCommitteeTable();
            
            // 绑定事件
            bindEvents();
        });

        // 绑定事件
        function bindEvents() {
            // 登录表单提交
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                // 简单验证
                if (username && password) {
                    // 显示主应用界面
                    loginPage.classList.add('hidden');
                    app.classList.remove('hidden');
                    
                    // 更新用户信息
                    document.getElementById('user-initial').textContent = username.charAt(0);
                    document.getElementById('user-name').textContent = username;
                    
                    // 默认显示仪表盘页面
                    showPage('dashboard');
                }
            });
            
            // 退出登录
            logoutBtn.addEventListener('click', () => {
                // 显示登录页面
                app.classList.add('hidden');
                loginPage.classList.remove('hidden');
                
                // 清空登录表单
                loginForm.reset();
            });
            
            // 侧边栏切换
            toggleSidebarBtn.addEventListener('click', () => {
                sidebar.classList.toggle('sidebar-expanded');
                sidebar.classList.toggle('sidebar-collapsed');
                mainContent.classList.toggle('main-expanded');
                mainContent.classList.toggle('main-collapsed');
                
                const sidebarTexts = document.querySelectorAll('.sidebar-text');
                sidebarTexts.forEach(text => {
                    text.classList.toggle('hidden');
                });
            });
            
            // 导航链接点击
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = link.getAttribute('data-page');
                    showPage(page);
                });
            });
            
            // 添加成员按钮点击
            addMemberBtn.addEventListener('click', () => {
                addMemberModal.classList.remove('hidden');
            });
            
            // 关闭模态框
            closeModalBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    addMemberModal.classList.add('hidden');
                });
            });
            
            // 点击模态框外部关闭
            addMemberModal.addEventListener('click', (e) => {
                if (e.target === addMemberModal) {
                    addMemberModal.classList.add('hidden');
                }
            });
            
            // 班干部复选框变化
            memberIsCommittee.addEventListener('change', () => {
                if (memberIsCommittee.checked) {
                    committeeRoleContainer.classList.remove('hidden');
                } else {
                    committeeRoleContainer.classList.add('hidden');
                }
            });
            
            // 添加成员表单提交
            addMemberForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                // 获取表单数据
                const formData = new FormData(addMemberForm);
                const memberData = {};
                
                formData.forEach((value, key) => {
                    memberData[key] = value;
                });
                
                // 添加到模拟数据
                mockMembers.push({
                    memberId: memberData.memberId,
                    name: memberData.name,
                    gender: memberData.gender,
                    major: memberData.major,
                    phone: memberData.phone,
                    email: memberData.email,
                    isCommittee: memberData.isCommittee === 'on',
                    committeeRole: memberData.isCommittee === 'on' ? memberData.committeeRole : ''
                });
                
                // 更新表格
                renderMembersTable();
                
                // 关闭模态框
                addMemberModal.classList.add('hidden');
                
                // 重置表单
                addMemberForm.reset();
                committeeRoleContainer.classList.add('hidden');
                
                // 显示成功提示
                alert('成员添加成功！');
            });
            
            // 反射机制演示 - 调用函数按钮点击
            const invokeFunctionBtn = document.getElementById('invoke-function-btn');
            if (invokeFunctionBtn) {
                invokeFunctionBtn.addEventListener('click', () => {
                    const functionName = document.getElementById('function-name').value;
                    const functionArgs = document.getElementById('function-args').value;
                    
                    // 解析参数
                    let args = [];
                    try {
                        args = eval(`[${functionArgs}]`);
                    } catch (error) {
                        args = [functionArgs];
                    }
                    
                    // 调用函数
                    const result = invokeFunction(functionName, ...args);
                    
                    // 更新结果
                    const resultElement = document.getElementById('reflection-result');
                    if (resultElement) {
                        resultElement.textContent = `> ${functionName}(${functionArgs})\n${result}`;
                    }
                });
            }
            
            // 映射应用演示 - 添加用户按钮点击
            const addUserMapBtn = document.getElementById('add-user-map-btn');
            if (addUserMapBtn) {
                addUserMapBtn.addEventListener('click', () => {
                    const userId = document.getElementById('user-id').value;
                    const userName = document.getElementById('user-name').value;
                    const userEmail = document.getElementById('user-email').value;
                    
                    if (!userId || !userName || !userEmail) {
                        alert('请填写完整的用户信息');
                        return;
                    }
                    
                    const result = addUser(userId, { name: userName, email: userEmail });
                    alert(result);
                    
                    // 更新用户列表
                    renderUserList();
                    
                    // 重置表单
                    document.getElementById('user-id').value = '';
                    document.getElementById('user-name').value = '';
                    document.getElementById('user-email').value = '';
                });
            }
            
            // 映射应用演示 - 查询用户按钮点击
            const searchUserBtn = document.getElementById('search-user-btn');
            if (searchUserBtn) {
                searchUserBtn.addEventListener('click', () => {
                    const userId = document.getElementById('search-user-id').value;
                    
                    if (!userId) {
                        alert('请输入用户ID');
                        return;
                    }
                    
                    const user = getUser(userId);
                    const userInfoElement = document.getElementById('user-info');
                    
                    if (user) {
                        userInfoElement.innerHTML = `
                            <p><strong>用户ID:</strong> ${userId}</p>
                            <p><strong>用户名:</strong> ${user.name}</p>
                            <p><strong>邮箱:</strong> ${user.email}</p>
                        `;
                    } else {
                        userInfoElement.innerHTML = `<p class="text-red-500">用户ID ${userId} 不存在</p>`;
                    }
                });
            }
            
            // 映射应用演示 - 删除用户按钮点击
            const deleteUserBtn = document.getElementById('delete-user-btn');
            if (deleteUserBtn) {
                deleteUserBtn.addEventListener('click', () => {
                    const userId = document.getElementById('search-user-id').value;
                    
                    if (!userId) {
                        alert('请输入用户ID');
                        return;
                    }
                    
                    const result = deleteUser(userId);
                    alert(result);
                    
                    // 更新用户列表
                    renderUserList();
                    
                    // 清空用户信息
                    document.getElementById('user-info').innerHTML = '<p class="text-gray-400 italic">请输入用户ID并点击查询按钮</p>';
                });
            }
            
            // 映射应用演示 - 清空所有按钮点击
            const clearAllBtn = document.getElementById('clear-all-btn');
            if (clearAllBtn) {
                clearAllBtn.addEventListener('click', () => {
                    if (confirm('确定要清空所有用户吗？')) {
                        const result = clearAllUsers();
                        alert(result);
                        
                        // 更新用户列表
                        renderUserList();
                        
                        // 清空用户信息
                        document.getElementById('user-info').innerHTML = '<p class="text-gray-400 italic">请输入用户ID并点击查询按钮</p>';
                    }
                });
            }
            
            // Socket通信演示 - 连接按钮点击
            const connectSocketBtn = document.getElementById('connect-socket-btn');
            if (connectSocketBtn) {
                connectSocketBtn.addEventListener('click', () => {
                    const ip = document.getElementById('socket-ip').value;
                    const port = document.getElementById('socket-port').value;
                    const username = document.getElementById('chat-username').value;
                    
                    if (!ip || !port || !username) {
                        alert('请填写完整的连接信息');
                        return;
                    }
                    
                    // 模拟连接
                    connectSocket(ip, port, username);
                });
            }
            
            // Socket通信演示 - 断开连接按钮点击
            const disconnectSocketBtn = document.getElementById('disconnect-socket-btn');
            if (disconnectSocketBtn) {
                disconnectSocketBtn.addEventListener('click', () => {
                    disconnectSocket();
                });
            }
            
            // Socket通信演示 - 发送消息按钮点击
            const sendMessageBtn = document.getElementById('send-message-btn');
            if (sendMessageBtn) {
                sendMessageBtn.addEventListener('click', () => {
                    const messageInput = document.getElementById('message-input');
                    const content = messageInput.value.trim();
                    
                    if (!content) {
                        return;
                    }
                    
                    sendSocketMessage(content);
                    messageInput.value = '';
                });
            }
            
            // Socket通信演示 - 消息输入框回车发送
            const messageInput = document.getElementById('message-input');
            if (messageInput) {
                messageInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        const content = messageInput.value.trim();
                        
                        if (!content) {
                            return;
                        }
                        
                        sendSocketMessage(content);
                        messageInput.value = '';
                    }
                });
            }
        }

        // 显示指定页面
        function showPage(pageId) {
            // 更新页面标题
            const pageTitleMap = {
                'dashboard': '仪表盘',
                'members': '班级人员管理',
                'committee': '班委会管理',
                'schedule': '值日安排管理',
                'activities': '班级活动记录',
                'messages': '班级留言簿',
                'reflection': '反射机制演示',
                'map': '映射应用演示',
                'socket': 'Socket通信'
            };
            
            pageTitle.textContent = pageTitleMap[pageId] || '仪表盘';
            
            // 隐藏所有页面内容
            pageContents.forEach(page => {
                page.classList.add('hidden');
            });
            
            // 显示指定页面内容
            const targetPage = document.getElementById(`${pageId}-page`);
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }
            
            // 更新导航链接状态
            navLinks.forEach(link => {
                if (link.getAttribute('data-page') === pageId) {
                    link.classList.add('bg-blue-700');
                    link.classList.remove('hover:bg-blue-700');
                } else {
                    link.classList.remove('bg-blue-700');
                    link.classList.add('hover:bg-blue-700');
                }
            });
        }

        // 渲染成员表格
        function renderMembersTable() {
            let html = '';
            
            mockMembers.forEach(member => {
                html += `
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${member.memberId}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${member.name}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${member.gender === 'male' ? '男' : '女'}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${member.major}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${member.phone}</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${member.isCommittee ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800'}">
                                ${member.isCommittee ? '是' : '否'}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">查看</a>
                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                            <a href="#" class="text-red-600 hover:text-red-900">删除</a>
                        </td>
                    </tr>
                `;
            });
            
            membersTableBody.innerHTML = html;
        }

        // 渲染班委会表格
        function renderCommitteeTable() {
            let html = '';
            
            mockCommittee.forEach(member => {
                html += `
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${member.memberId}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${member.name}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${member.role}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${member.phone}</td>
                        <td class="px-6 py-4 text-sm text-gray-500">${member.duties}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">查看</a>
                            <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">编辑</a>
                            <a href="#" class="text-red-600 hover:text-red-900">删除</a>
                        </td>
                    </tr>
                `;
            });
            
            committeeTableBody.innerHTML = html;
        }

        // 初始化图表
        function initCharts() {
            // 班级活动统计图表
            const activitiesChart = document.getElementById('activities-chart');
            if (activitiesChart) {
                new Chart(activitiesChart, {
                    type: 'bar',
                    data: {
                        labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                        datasets: [{
                            label: '活动数量',
                            data: [2, 3, 1, 4, 5, 8],
                            backgroundColor: 'rgba(59, 130, 246, 0.5)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    precision: 0
                                }
                            }
                        }
                    }
                });
            }
            
            // 值日安排情况图表
            const scheduleChart = document.getElementById('schedule-chart');
            if (scheduleChart) {
                new Chart(scheduleChart, {
                    type: 'pie',
                    data: {
                        labels: ['已完成', '进行中', '未开始'],
                        datasets: [{
                            data: [15, 8, 7],
                            backgroundColor: [
                                'rgba(16, 185, 129, 0.5)',
                                'rgba(245, 158, 11, 0.5)',
                                'rgba(107, 114, 128, 0.5)'
                            ],
                            borderColor: [
                                'rgba(16, 185, 129, 1)',
                                'rgba(245, 158, 11, 1)',
                                'rgba(107, 114, 128, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // 班委会职责分配图表
            const committeeRolesChart = document.getElementById('committee-roles-chart');
            if (committeeRolesChart) {
                new Chart(committeeRolesChart, {
                    type: 'radar',
                    data: {
                        labels: ['班级管理', '学习指导', '活动组织', '财务管理', '沟通协调', '文档记录'],
                        datasets: [
                            {
                                label: '班长',
                                data: [9, 7, 8, 6, 10, 7],
                                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                                borderColor: 'rgba(59, 130, 246, 1)',
                                borderWidth: 2,
                                pointBackgroundColor: 'rgba(59, 130, 246, 1)'
                            },
                            {
                                label: '学习委员',
                                data: [6, 10, 5, 4, 7, 8],
                                backgroundColor: 'rgba(16, 185, 129, 0.2)',
                                borderColor: 'rgba(16, 185, 129, 1)',
                                borderWidth: 2,
                                pointBackgroundColor: 'rgba(16, 185, 129, 1)'
                            },
                            {
                                label: '体育委员',
                                data: [7, 5, 10, 4, 8, 5],
                                backgroundColor: 'rgba(245, 158, 11, 0.2)',
                                borderColor: 'rgba(245, 158, 11, 1)',
                                borderWidth: 2,
                                pointBackgroundColor: 'rgba(245, 158, 11, 1)'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 10,
                                ticks: {
                                    stepSize: 2
                                }
                            }
                        }
                    }
                });
            }
            
            // 班委会工作统计图表
            const committeeWorkChart = document.getElementById('committee-work-chart');
            if (committeeWorkChart) {
                new Chart(committeeWorkChart, {
                    type: 'line',
                    data: {
                        labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                        datasets: [
                            {
                                label: '班长',
                                data: [5, 7, 6, 8, 9, 10],
                                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                                borderColor: 'rgba(59, 130, 246, 1)',
                                borderWidth: 2,
                                tension: 0.3
                            },
                            {
                                label: '学习委员',
                                data: [4, 6, 8, 7, 9, 8],
                                backgroundColor: 'rgba(16, 185, 129, 0.2)',
                                borderColor: 'rgba(16, 185, 129, 1)',
                                borderWidth: 2,
                                tension: 0.3
                            },
                            {
                                label: '体育委员',
                                data: [3, 4, 5, 6, 7, 9],
                                backgroundColor: 'rgba(245, 158, 11, 0.2)',
                                borderColor: 'rgba(245, 158, 11, 1)',
                                borderWidth: 2,
                                tension: 0.3
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    precision: 0
                                }
                            }
                        }
                    }
                });
            }
        }

        // 反射机制相关函数
        function add(a, b) {
            return a + b;
        }

        function multiply(a, b) {
            return a * b;
        }

        function greet(name) {
            return `欢迎使用${name}!`;
        }

        function reverseString(str) {
            return str.split('').reverse().join('');
        }

        function getCurrentTime() {
            return new Date().toLocaleTimeString();
        }

        // 函数映射表
        const functionMap = {
            'add': add,
            'multiply': multiply,
            'greet': greet,
            'reverseString': reverseString,
            'getCurrentTime': getCurrentTime
        };

        // 使用反射机制调用函数
        function invokeFunction(functionName, ...args) {
            try {
                // 检查函数是否存在
                if (functionMap[functionName]) {
                    // 调用函数并返回结果
                    return functionMap[functionName](...args);
                } else {
                    throw new Error(`函数 "${functionName}" 不存在`);
                }
            } catch (error) {
                return `错误: ${error.message}`;
            }
        }

        // 映射应用相关函数
        const userMap = new Map();

        // 添加用户
        function addUser(userId, userData) {
            if (userMap.has(userId)) {
                return `用户ID ${userId} 已存在`;
            }
            userMap.set(userId, userData);
            renderUserList();
            return `用户 ${userData.name} 添加成功`;
        }

        // 获取用户
        function getUser(userId) {
            return userMap.get(userId);
        }

        // 删除用户
        function deleteUser(userId) {
            if (userMap.has(userId)) {
                const userName = userMap.get(userId).name;
                userMap.delete(userId);
                renderUserList();
                return `用户 ${userName} 删除成功`;
            }
            return `用户ID ${userId} 不存在`;
        }

        // 清空所有用户
        function clearAllUsers() {
            const count = userMap.size;
            userMap.clear();
            renderUserList();
            return `已清空 ${count} 个用户`;
        }

        // 渲染用户列表
        function renderUserList() {
            const userListElement = document.getElementById('user-list');
            if (!userListElement) return;
            
            let html = '';
            
            if (userMap.size === 0) {
                html = '<tr><td colspan="4" class="px-6 py-4 text-center text-sm text-gray-500">暂无用户数据</td></tr>';
            } else {
                userMap.forEach((userData, userId) => {
                    html += `
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${userId}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${userData.name}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${userData.email}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                <button class="text-blue-600 hover:text-blue-900 mr-3 select-user-btn" data-user-id="${userId}">选择</button>
                                <button class="text-red-600 hover:text-red-900 delete-user-btn" data-user-id="${userId}">删除</button>
                            </td>
                        </tr>
                    `;
                });
            }
            
            userListElement.innerHTML = html;
            
            // 绑定选择用户按钮事件
            const selectUserBtns = document.querySelectorAll('.select-user-btn');
            selectUserBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const userId = btn.getAttribute('data-user-id');
                    document.getElementById('search-user-id').value = userId;
                    
                    // 触发查询
                    const searchUserBtn = document.getElementById('search-user-btn');
                    if (searchUserBtn) {
                        searchUserBtn.click();
                    }
                });
            });
            
            // 绑定删除用户按钮事件
            const deleteUserBtns = document.querySelectorAll('.delete-user-btn');
            deleteUserBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const userId = btn.getAttribute('data-user-id');
                    if (confirm(`确定要删除用户ID ${userId} 吗？`)) {
                        deleteUser(userId);
                    }
                });
            });
        }

        // Socket通信相关变量
        let socketClient = null;
        let socketConnected = false;
        let socketUsername = '';
        let sentMessagesCount = 0;
        let receivedMessagesCount = 0;

        // 连接Socket服务器
        function connectSocket(ip, port, username) {
            // 模拟连接成功
            socketConnected = true;
            socketUsername = username;
            
            // 更新UI
            updateSocketStatus();
            
            // 添加系统消息
            addChatMessage('系统', '连接成功，欢迎加入聊天！', new Date());
            
            // 模拟在线用户
            const onlineUsers = [
                { id: 'system', name: '系统', online: true },
                { id: 'user1', name: '用户1', online: true },
                { id: 'user2', name: '用户2', online: true }
            ];
            
            // 更新在线用户列表
            updateOnlineUsers(onlineUsers);
            
            // 模拟接收消息
            setTimeout(() => {
                addChatMessage('系统', `${username} 加入了聊天`, new Date());
            }, 1000);
            
            setTimeout(() => {
                addChatMessage('用户2', '大家好！', new Date());
            }, 2000);
        }

        // 断开Socket连接
        function disconnectSocket() {
            if (!socketConnected) {
                alert('未连接到服务器');
                return;
            }
            
            // 模拟断开连接
            socketConnected = false;
            
            // 更新UI
            updateSocketStatus();
            
            // 添加系统消息
            addChatMessage('系统', '已断开连接', new Date());
            
            // 更新在线用户列表
            updateOnlineUsers([
                { id: 'system', name: '系统', online: true }
            ]);
        }

        // 发送Socket消息
        function sendSocketMessage(content) {
            if (!socketConnected) {
                alert('未连接到服务器');
                return;
            }
            
            const timestamp = new Date();
            
            // 添加自己的消息
            addChatMessage(socketUsername, content, timestamp, true);
            
            // 增加发送消息计数
            sentMessagesCount++;
            
            // 更新状态
            updateSocketStatus();
            
            // 模拟接收回复
            setTimeout(() => {
                if (content.includes('你好') || content.includes('您好') || content.includes('hi') || content.includes('hello')) {
                    addChatMessage('用户2', '你好！有什么可以帮助你的吗？', new Date());
                } else if (content.includes('时间')) {
                    addChatMessage('用户2', `当前时间是 ${timestamp.toLocaleTimeString()}`, new Date());
                } else if (content.includes('天气')) {
                    addChatMessage('用户2', '今天天气晴朗，适合户外活动！', new Date());
                } else {
                    addChatMessage('用户2', '收到你的消息了，谢谢！', new Date());
                }
            }, 1000);
        }

        // 添加聊天消息
        function addChatMessage(username, content, timestamp, isSelf = false) {
            const chatMessagesElement = document.getElementById('chat-messages');
            if (!chatMessagesElement) return;
            
            // 增加接收消息计数（如果不是自己发送的）
            if (!isSelf) {
                receivedMessagesCount++;
                updateSocketStatus();
            }
            
            // 创建消息元素
            const messageElement = document.createElement('div');
            messageElement.className = 'flex items-start';
            
            // 设置消息内容
            if (isSelf) {
                messageElement.innerHTML = `
                    <div class="flex-1"></div>
                    <div class="max-w-[80%]">
                        <div class="flex items-center justify-end">
                            <span class="text-xs text-gray-500">${timestamp.toLocaleTimeString()}</span>
                            <span class="mr-2 text-xs font-medium text-gray-800">${username}</span>
                        </div>
                        <div class="mt-1 p-2 bg-blue-100 rounded-lg text-xs text-gray-700">
                            ${content}
                        </div>
                    </div>
                    <div class="ml-2 flex-shrink-0">
                        <div class="w-8 h-8 rounded-full bg-blue-200 flex items-center justify-center text-blue-800 text-xs font-medium">
                            ${username.charAt(0)}
                        </div>
                    </div>
                `;
            } else {
                messageElement.innerHTML = `
                    <div class="flex-shrink-0">
                        <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 text-xs font-medium">
                            ${username.charAt(0)}
                        </div>
                    </div>
                    <div class="ml-2 max-w-[80%]">
                        <div class="flex items-center">
                            <span class="text-xs font-medium text-gray-800">${username}</span>
                            <span class="ml-2 text-xs text-gray-500">${timestamp.toLocaleTimeString()}</span>
                        </div>
                        <div class="mt-1 p-2 bg-gray-100 rounded-lg text-xs text-gray-700">
                            ${content}
                        </div>
                    </div>
                `;
            }
            
            // 添加到聊天窗口
            chatMessagesElement.appendChild(messageElement);
            
            // 滚动到底部
            chatMessagesElement.scrollTop = chatMessagesElement.scrollHeight;
        }

        // 更新在线用户列表
        function updateOnlineUsers(users) {
            const onlineUsersElement = document.getElementById('online-users');
            if (!onlineUsersElement) return;
            
            let html = '';
            
            users.forEach(user => {
                html += `
                    <li class="flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200">
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full ${user.id === 'system' ? 'bg-gray-200' : user.online ? 'bg-green-200' : 'bg-gray-200'} flex items-center justify-center text-${user.id === 'system' ? 'gray' : user.online ? 'green' : 'gray'}-700 text-xs font-medium">
                                ${user.name.charAt(0)}
                            </div>
                            <span class="ml-2 text-sm text-gray-800">${user.name}</span>
                        </div>
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${user.online ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}">
                            <span class="w-2 h-2 mr-1 rounded-full ${user.online ? 'bg-green-500' : 'bg-gray-500'}"></span>
                            ${user.online ? '在线' : '离线'}
                        </span>
                    </li>
                `;
            });
            
            onlineUsersElement.innerHTML = html;
        }

        // 更新Socket状态
        function updateSocketStatus() {
            const connectionStatusElement = document.getElementById('connection-status');
            const statusTextElement = document.getElementById('status-text');
            const serverAddressElement = document.getElementById('server-address');
            const connectionTimeElement = document.getElementById('connection-time');
            const sentMessagesElement = document.getElementById('sent-messages');
            const receivedMessagesElement = document.getElementById('received-messages');
            
            if (socketConnected) {
                connectionStatusElement.className = 'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mr-2';
                connectionStatusElement.innerHTML = '<span class="w-2 h-2 mr-1 rounded-full bg-green-500"></span>在线';
                statusTextElement.className = 'text-sm font-medium text-green-600';
                statusTextElement.textContent = '已连接';
                
                const ip = document.getElementById('socket-ip').value;
                const port = document.getElementById('socket-port').value;
                serverAddressElement.textContent = `ws://${ip}:${port}`;
                
                const now = new Date();
                connectionTimeElement.textContent = now.toLocaleString();
            } else {
                connectionStatusElement.className = 'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 mr-2';
                connectionStatusElement.innerHTML = '<span class="w-2 h-2 mr-1 rounded-full bg-red-500"></span>未连接';
                statusTextElement.className = 'text-sm font-medium text-red-600';
                statusTextElement.textContent = '未连接';
                serverAddressElement.textContent = '-';
                connectionTimeElement.textContent = '-';
            }
            
            sentMessagesElement.textContent = sentMessagesCount;
            receivedMessagesElement.textContent = receivedMessagesCount;
        }
    </script>
</body>
</html>
